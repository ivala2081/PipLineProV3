import{j as e,r as s,W as a,Y as t,b as r,o as l,Z as n,X as i,S as d,m as o,d as c,D as x,f as m,_ as g,$ as h,a0 as u,C as b,x as p,E as y,y as j,a1 as w,a2 as f,n as N,a3 as v,a4 as k,a5 as _,a6 as S,I as C,R as T,k as D,l as E,a7 as F,a8 as L,t as $,w as O}from"./vendor-react-BhTnfaj4.js";import{a as R}from"./contexts-BJ30luUC.js";import{a as U}from"./components-modern-tUvpuNx5.js";import{B as I,C as P,d as A,f as W,g as B,a as M,b as H,h as z,i as G,j as V,k as Y,L as q,I as J,l as K,m as Q,n as X,o as Z,p as ee}from"./components-ui-DqTPGewb.js";import{t as se,c as ae}from"./vendor-utils-CtF19A-_.js";function te(...e){return se(ae(e))}const re={default:"",card:"bg-card border border-border rounded-lg shadow-sm",section:"bg-background",container:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},le={none:"",sm:"space-y-2",md:"space-y-4",lg:"space-y-6",xl:"space-y-8"},ne={none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"},ie={none:"",sm:"m-2",md:"m-4",lg:"m-6",xl:"m-8"},de={default:"bg-background",muted:"bg-muted",card:"bg-card",transparent:"bg-transparent"},oe={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},ce={none:"",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl"},xe=({children:s,className:a,variant:t="default",spacing:r="md",padding:l="md",margin:n="none",background:i="default",border:d=!1,shadow:o="none",rounded:c="md"})=>e.jsx("div",{className:te("transition-colors duration-200",re[t],le[r],ne[l],ie[n],de[i],d&&"border border-border",oe[o],ce[c],a),children:s}),me=({children:s,title:a,description:t,className:r,headerClassName:l,contentClassName:n,actions:i})=>e.jsxs(xe,{variant:"section",spacing:"lg",className:r,children:[(a||t||i)&&e.jsxs("div",{className:te("flex items-center justify-between",l),children:[e.jsxs("div",{className:"space-y-1",children:[a&&e.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:a}),t&&e.jsx("p",{className:"text-muted-foreground",children:t})]}),i&&e.jsx("div",{className:"flex items-center gap-2",children:i})]}),e.jsx("div",{className:te("space-y-4",n),children:s})]}),ge=({children:s,cols:a=1,gap:t="md",className:r,responsive:l=!0})=>e.jsx("div",{className:te("grid",l?{1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5",6:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6",12:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 2xl:grid-cols-12"}[a]:{1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",12:"grid-cols-12"}[a],{sm:"gap-2",md:"gap-4",lg:"gap-6",xl:"gap-8"}[t],r),children:s}),he=({children:s,className:a,header:t,footer:r,variant:l="default",size:n="md",padding:i="md",showGlass:d=!1})=>{const o={none:"",sm:"p-3",md:"p-4",lg:"p-6"},c=d?"glass-card card-hover-subtle":"";return e.jsxs(P,{className:te({default:"bg-card border border-border shadow-sm",outlined:"bg-transparent border-2 border-border",elevated:"bg-card shadow-lg border-0",flat:"bg-card border-0 shadow-none"}[l],{sm:"text-sm",md:"text-base",lg:"text-lg"}[n],c,a),children:[t&&e.jsx(A,{className:te("border-b border-border",o[i]),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[t.title&&e.jsx(W,{className:"text-lg font-semibold text-foreground",children:t.title}),t.description&&e.jsx(B,{className:"text-muted-foreground",children:t.description})]}),t.actions&&e.jsx("div",{className:"flex items-center gap-2",children:t.actions})]})}),e.jsx(M,{className:te(o[i]),children:s}),r&&e.jsx("div",{className:te("border-t border-border",o[i]),children:r})]})},ue=({children:s,variant:a="primary",size:t="md",className:r,disabled:l=!1,loading:n=!1,icon:i,iconPosition:d="left",onClick:o,type:c="button"})=>e.jsxs(I,{type:c,variant:"ghost",disabled:l||n,onClick:o,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"bg-green-600 text-white hover:bg-green-700",warning:"bg-yellow-600 text-white hover:bg-yellow-700"}[a],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[t],r),children:[n&&e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),i&&"left"===d&&e.jsx("span",{className:"mr-2",children:i}),s,i&&"right"===d&&e.jsx("span",{className:"ml-2",children:i})]}),be=({children:s,variant:a="default",size:t="md",className:r})=>e.jsx(H,{variant:"outline",className:te("inline-flex items-center rounded-full font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-border",success:"bg-green-100 text-green-800 hover:bg-green-200",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"bg-blue-100 text-blue-800 hover:bg-blue-200"}[a],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"}[t],r),children:s}),pe=({isOpen:l,onClose:n,onSuccess:i})=>{R();const[d,o]=s.useState({wallet_address:"",wallet_name:"",network:"ETH"}),[c,x]=s.useState(!1),[m,g]=s.useState({}),[h,u]=s.useState(null),b=()=>{c||(n(),o({wallet_address:"",wallet_name:"",network:"ETH"}),g({}),u(null))};return e.jsx(z,{open:l,onOpenChange:b,children:e.jsxs(G,{className:"sm:max-w-md",children:[e.jsx(V,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(a,{className:"h-5 w-5 text-blue-600"}),"Add New Wallet"]})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return d.wallet_name.trim()||(e.wallet_name="Wallet name is required"),d.wallet_address.trim()?"ETH"===d.network||"BSC"===d.network?d.wallet_address.startsWith("0x")&&42===d.wallet_address.length||(e.wallet_address="Invalid Ethereum/BSC address format"):"TRC"===d.network&&(d.wallet_address.startsWith("T")&&34===d.wallet_address.length||(e.wallet_address="Invalid TRON address format")):e.wallet_address="Wallet address is required",g(e),0===Object.keys(e).length})()){x(!0),u(null);try{const e=await U.post("/trust-wallet/wallets",d),s=await U.parseResponse(e);if(s.success){const e=s.wallet?.id;i(e),n(),o({wallet_address:"",wallet_name:"",network:"ETH"}),g({})}else u(s.error||"Failed to create wallet")}catch(s){s instanceof Error?s.message.includes("409")||s.message.includes("already exists")?(u("This wallet address is already registered. Please use a different address."),o(e=>({...e,wallet_address:""}))):s.message.includes("400")||s.message.includes("Invalid")?u("Invalid wallet address format. Please check the address and try again."):s.message.includes("Network error")||s.message.includes("fetch")?u("Network error. Please check your connection and try again."):s.message.includes("500")?u("Server error. Please try again later."):u(s.message||"Failed to create wallet. Please try again."):u("Network error. Please try again.")}finally{x(!1)}}},className:"space-y-4",children:[h&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[e.jsx(t,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-700",children:[e.jsx("p",{children:h}),h.includes("already registered")&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:"ðŸ’¡ Tip: Check if you've already added this wallet or try a different address."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"wallet_name",children:"Wallet Name"}),e.jsx(J,{id:"wallet_name",value:d.wallet_name,onChange:e=>o({...d,wallet_name:e.target.value}),placeholder:"e.g., Main Company Wallet",className:m.wallet_name?"border-red-300":""}),m.wallet_name&&e.jsx("p",{className:"text-sm text-red-600",children:m.wallet_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"network",children:"Network"}),e.jsxs(K,{value:d.network,onValueChange:e=>o({...d,network:e}),children:[e.jsx(Q,{children:e.jsx(X,{placeholder:"Select network"})}),e.jsxs(Z,{children:[e.jsx(ee,{value:"ETH",children:"Ethereum (ETH)"}),e.jsx(ee,{value:"BSC",children:"Binance Smart Chain (BSC)"}),e.jsx(ee,{value:"TRC",children:"TRON (TRC)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"wallet_address",children:"Wallet Address"}),e.jsx(J,{id:"wallet_address",value:d.wallet_address,onChange:e=>o({...d,wallet_address:e.target.value}),placeholder:(()=>{switch(d.network){case"ETH":return"0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b7";case"BSC":return"0x8ba1f109551bD432803012645Hac136c13";case"TRC":return"TQn9Y2khEsLJW1ChVWFMSMeRDow5KcbLSE";default:return"Enter wallet address"}})(),className:m.wallet_address?"border-red-300":""}),m.wallet_address&&e.jsx("p",{className:"text-sm text-red-600",children:m.wallet_address}),e.jsx("p",{className:"text-xs text-gray-500",children:"ETH"===d.network||"BSC"===d.network?"Must start with 0x and be 42 characters long":"Must start with T and be 34 characters long"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:b,disabled:c,children:"Cancel"}),e.jsx(I,{type:"submit",disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"h-4 w-4 mr-2"}),"Create Wallet"]})})]})]})]})})},ye=()=>{R();const[r,I]=s.useState([]),[P,A]=s.useState(null),[W,B]=s.useState([]),[M,H]=s.useState(!0),[z,G]=s.useState(!1),[V,Y]=s.useState(!1),[q,J]=s.useState(new Set),[K,Q]=s.useState(new Set),[X,Z]=s.useState(!1),[ee,se]=s.useState(!1),[ae,te]=s.useState(!1),[re,le]=s.useState(!1),[ne,ie]=s.useState(null),[de,oe]=s.useState(null),[ce,xe]=s.useState(null),[me,ge]=s.useState(""),[ue,ye]=s.useState([]),[je,we]=s.useState(!1),[fe,Ne]=s.useState({}),[ve,ke]=s.useState({}),[_e,Se]=s.useState(null),[Ce,Te]=s.useState(""),[De,Ee]=s.useState("all"),[Fe,Le]=s.useState(null),[$e,Oe]=s.useState(""),[Re,Ue]=s.useState("all"),[Ie,Pe]=s.useState("all"),[Ae,We]=s.useState("all"),[Be,Me]=s.useState("date"),[He,ze]=s.useState("desc"),[Ge,Ve]=s.useState("detailed"),[Ye,qe]=s.useState(!1),[Je,Ke]=s.useState(!1),[Qe,Xe]=s.useState(1),[Ze,es]=s.useState(50),[ss,as]=s.useState("transactions"),[ts,rs]=s.useState([]),[ls,ns]=s.useState(!1),[is,ds]=s.useState(""),[os,cs]=s.useState("");s.useEffect(()=>{if(null===Fe)return;const e=window.setTimeout(()=>Le(null),2e3);return()=>window.clearTimeout(e)},[Fe]),s.useEffect(()=>{xs()},[]);const xs=async()=>{H(!0),Se(null);try{await Promise.all([ms(),gs(),hs()])}catch(e){Se("Failed to load Trust Wallet data")}finally{H(!1)}},ms=async()=>{try{G(!0);const e=await U.get("/trust-wallet/wallets"),s=await U.parseResponse(e);s.success&&(I(s.wallets||[]),s.wallets?.forEach(e=>{js(e.id)}))}catch(e){}finally{G(!1)}},gs=async()=>{try{const e=await U.get("/trust-wallet/summary"),s=await U.parseResponse(e);s.success&&A({overall:s.overall,by_network:s.by_network,by_token:s.by_token})}catch(e){}},hs=async()=>{try{Y(!0);const e=await U.get("/trust-wallet/transactions?per_page=50"),s=await U.parseResponse(e);s.success&&B(s.transactions||[])}catch(e){}finally{Y(!1)}},us=async e=>{J(s=>new Set(s).add(e));try{const s=await U.post(`/trust-wallet/wallets/${e}/sync`,{force_full_sync:!0}),a=await U.parseResponse(s);if(a.success)await Promise.all([ms(),gs(),hs()]),ne&&ne.id===e&&await ys(e);else{const e=a.error||"Failed to sync wallet",s=a.details||"";Se(`${e}${s?`: ${s}`:""}`)}}catch(s){const e=s?.message||s?.response?.error||"Failed to sync wallet",a=s?.details||s?.response?.details||"";Se(`${e}${a?`: ${a}`:""}`)}finally{J(s=>{const a=new Set(s);return a.delete(e),a})}},bs=async e=>{const s=r.find(s=>s.id===e);s&&(ie(s),se(!0),as("transactions"),await ys(e))},ps=async e=>{try{ns(!0);const s=new URLSearchParams;is&&s.append("start_date",is),os&&s.append("end_date",os);const a=await U.get(`/trust-wallet/wallets/${e}/historical-balances?${s.toString()}`),t=await U.parseResponse(a);t.success&&rs(t.historical_balances||[])}catch(s){Se("Failed to load historical balances")}finally{ns(!1)}},ys=async e=>{try{we(!0);const s=[];let a=1,t=!0;const r=100;for(;t;){const l=await U.get(`/trust-wallet/wallets/${e}/transactions?page=${a}&per_page=${r}`),n=await U.parseResponse(l);if(n.success&&n.transactions){s.push(...n.transactions);const e=n.pagination;e&&a<e.total_pages?a++:t=!1}else t=!1}ye(s)}catch(s){Se("Failed to load wallet transactions")}finally{we(!1)}},js=async e=>{try{ke(s=>({...s,[e]:!0}));const s=await U.get(`/trust-wallet/wallets/${e}/balance`),a=await U.parseResponse(s);a.success&&a.data?Ne(s=>({...s,[e]:a.data})):void 0!==a.total_usd||a.balances?Ne(s=>({...s,[e]:a})):Ne(s=>({...s,[e]:null}))}catch(s){Ne(s=>({...s,[e]:null}))}finally{ke(s=>({...s,[e]:!1}))}},ws=s.useMemo(()=>{let e=ue;if($e){const s=$e.toLowerCase();e=e.filter(e=>e.transaction_hash.toLowerCase().includes(s)||e.token_symbol.toLowerCase().includes(s)||e.from_address.toLowerCase().includes(s)||e.to_address.toLowerCase().includes(s))}return"all"!==Re&&(e=e.filter(e=>e.transaction_type===Re)),"all"!==Ie&&(e=e.filter(e=>e.token_symbol===Ie)),"all"!==Ae&&(e=e.filter(e=>e.status===Ae)),e=[...e].sort((e,s)=>{let a=0;return"date"===Be?a=new Date(e.block_timestamp).getTime()-new Date(s.block_timestamp).getTime():"amount"===Be?a=e.token_amount-s.token_amount:"gas"===Be&&(a=(e.gas_fee||0)-(s.gas_fee||0)),"asc"===He?a:-a}),e},[ue,$e,Re,Ie,Ae,Be,He]);s.useMemo(()=>{const e=ws.filter(e=>"IN"===e.transaction_type).reduce((e,s)=>e+s.token_amount,0),s=ws.filter(e=>"OUT"===e.transaction_type).reduce((e,s)=>e+s.token_amount,0),a=ws.reduce((e,s)=>e+s.gas_fee,0),t=ne?(e=>{switch(e){case"ETH":default:return"ETH";case"BSC":return"BNB";case"TRC":return"TRX"}})(ne.network):"ETH";return{totalIn:e,totalOut:s,totalGas:a,count:ws.length,nativeToken:t}},[ws,ne]);const fs=s.useMemo(()=>[...new Set(ue.map(e=>e.token_symbol))].sort(),[ue]),Ns=s.useMemo(()=>{if(!Ye)return null;const e={};return ws.forEach(s=>{const a=new Date(s.block_timestamp).toISOString().split("T")[0];e[a]||(e[a]=[]),e[a].push(s)}),Object.entries(e).sort(([e],[s])=>s.localeCompare(e))},[ws,Ye]),vs=s.useMemo(()=>{if(Ye&&Ns){const e=(Qe-1)*Ze,s=e+Ze,a=Ns.length;return{paginatedDays:Ns.slice(e,s),totalDays:a,totalPages:Math.ceil(a/Ze)}}{const e=(Qe-1)*Ze,s=e+Ze;return{paginatedTxs:ws.slice(e,s),totalPages:Math.ceil(ws.length/Ze),totalItems:ws.length}}},[ws,Ye,Ns,Qe,Ze]);s.useEffect(()=>{Xe(1)},[$e,Re,Ie,Ae]);const ks=(e,s)=>"ETH"===s?`https://etherscan.io/tx/${e}`:"BSC"===s?`https://bscscan.com/tx/${e}`:"TRC"===s?`https://tronscan.org/#/transaction/${e}`:"",_s=async e=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{const s=document.createElement("textarea");s.value=e,s.style.position="fixed",s.style.left="-9999px",document.body.appendChild(s),s.focus(),s.select(),document.execCommand("copy"),document.body.removeChild(s)}return!0}catch(s){return!1}},Ss=s.useMemo(()=>{let e=0,s=0;const a=r.every(e=>fe[e.id]&&!ve[e.id]);return r.forEach(a=>{const t=fe[a.id];t&&void 0!==t.total_usd&&(e+=t.total_usd,s++)}),{totalUSD:e,loadedWalletsCount:s,allBalancesLoaded:a,isLoading:r.length>0&&!a}},[r,fe,ve]),Cs=r.filter(e=>{const s=e.wallet_name.toLowerCase().includes(Ce.toLowerCase())||e.wallet_address.toLowerCase().includes(Ce.toLowerCase()),a="all"===De||e.network===De;return s&&a}),Ts=[...new Set(r.map(e=>e.network))];return M?e.jsxs("div",{className:"w-full bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen",children:[e.jsx("div",{className:"mb-8 px-6 pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-64 animate-pulse"})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded-xl w-20 animate-pulse"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-xl w-24 animate-pulse"})]})]})}),e.jsx("div",{className:"mb-8 px-6",children:e.jsx("div",{className:"h-12 bg-gray-200 rounded-xl w-80 animate-pulse"})}),e.jsx("div",{className:"mb-8 px-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg animate-pulse mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-100 rounded w-20 animate-pulse"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-3 bg-gray-100 rounded w-28 animate-pulse"})]})]},s))})]})}),e.jsx("div",{className:"px-6 pb-8",children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsx("div",{className:"bg-white/90 backdrop-blur-sm border border-gray-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg animate-pulse flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-3 animate-pulse"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16 animate-pulse"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-12 animate-pulse"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0 ml-6",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded-xl w-16 animate-pulse"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-xl w-16 animate-pulse"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-xl w-20 animate-pulse"})]})]})},s))})})]}):e.jsxs("div",{className:"w-full bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen",children:[e.jsxs("div",{className:"mb-8 px-6 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(a,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Trust Wallets"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Manage your blockchain wallets and transactions"})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{xs()},className:"px-5 py-2.5 text-sm font-medium border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-colors bg-white",children:[e.jsx(l,{className:"h-4 w-4 inline mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:async()=>{for(const e of r)e.is_active&&await us(e.id)},disabled:q.size>0||0===r.length,className:"px-5 py-2.5 text-sm font-medium border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 transition-colors bg-white disabled:opacity-50 disabled:cursor-not-allowed",title:0===r.length?"No wallets to sync":"Sync all wallets",children:[e.jsx(l,{className:"h-4 w-4 inline mr-2 "+(q.size>0?"animate-spin":"")}),"Sync All ",q.size>0&&`(${q.size}/${r.length})`]}),e.jsxs("button",{onClick:()=>Z(!0),className:"group px-6 py-2.5 text-sm font-semibold bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm hover:shadow-md",children:[e.jsx(n,{className:"h-4 w-4 inline mr-2"}),"Add Wallet"]})]})]}),_e&&e.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(t,{className:"h-4 w-4 text-red-600"})}),e.jsx("span",{className:"text-red-800 font-medium",children:_e}),e.jsx("button",{onClick:()=>Se(null),className:"ml-auto w-6 h-6 bg-red-100 hover:bg-red-200 rounded-lg flex items-center justify-center text-red-600 hover:text-red-700 transition-colors",children:e.jsx(i,{className:"h-4 w-4"})})]})})]}),e.jsx("div",{className:"mb-8 px-6",children:e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 min-w-[280px]",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(d,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search wallets by name or address...",value:Ce,onChange:e=>Te(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none bg-white shadow-sm transition-colors"})]}),e.jsxs("div",{className:"relative min-w-[180px]",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:e.jsx(o,{className:"h-4 w-4 text-gray-400"})}),e.jsxs("select",{value:De,onChange:e=>Ee(e.target.value),className:"w-full pl-12 pr-10 py-3 border border-gray-200 rounded-lg focus:outline-none bg-white shadow-sm transition-colors appearance-none cursor-pointer text-sm font-medium text-gray-700",children:[e.jsx("option",{value:"all",children:"All Networks"}),Ts.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:e.jsx(c,{className:"h-4 w-4 text-gray-400"})})]})]})}),e.jsx("div",{className:"mb-8 px-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(a,{className:"h-4 w-4 text-gray-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Portfolio Summary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center",children:e.jsx(x,{className:"h-5 w-5 text-green-600"})}),Ss.isLoading&&e.jsx(l,{className:"h-4 w-4 text-gray-400 animate-spin"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Total Balance"}),Ss.isLoading?e.jsx("div",{className:"h-7 bg-gray-100 rounded animate-pulse w-28"}):e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",Ss.totalUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Across all wallets"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center",children:e.jsx(a,{className:"h-5 w-5 text-purple-600"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Active Wallets"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.filter(e=>e.is_active).length}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Ss.loadedWalletsCount," with loaded balances"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(m,{className:"h-5 w-5 text-blue-600"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Total Transactions"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:P?.overall?.total_transactions?.toLocaleString()||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"All networks"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center",children:e.jsx(g,{className:"h-5 w-5 text-orange-600"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Active Networks"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ts.length}),e.jsx("p",{className:"text-xs text-gray-500",children:Ts.join(", ")||"None"})]})]})]})]})}),e.jsx("div",{className:"px-6 pb-8",children:Cs.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Cs.map(s=>{const n=fe[s.id],i=n?.total_usd||0,d=ve[s.id],o=n?Object.keys(n.balances||{}).length:0;return e.jsx("div",{onClick:()=>bs(s.id),className:"cursor-pointer group",children:e.jsxs(he,{variant:"outlined",className:"hover:shadow-xl hover:border-gray-400 transition-all duration-300 relative overflow-hidden h-full bg-white",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50/0 via-transparent to-blue-50/0 group-hover:from-slate-50/40 group-hover:to-blue-50/20 transition-all duration-500 pointer-events-none"}),e.jsxs("div",{className:"relative space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3.5 flex-1 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-slate-100 via-gray-50 to-slate-100 rounded-xl flex items-center justify-center flex-shrink-0 border border-gray-300 shadow-md group-hover:shadow-lg group-hover:scale-105 transition-all duration-300",children:e.jsx(a,{className:"h-6 w-6 text-gray-700"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg truncate group-hover:text-black transition-colors",children:s.wallet_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[e.jsxs("p",{className:"text-xs text-gray-500 font-mono truncate bg-gray-50 px-2 py-0.5 rounded border border-gray-200",children:[s.wallet_address.slice(0,10),"...",s.wallet_address.slice(-8)]}),e.jsx("button",{onClick:e=>(async(e,s,a)=>{e.stopPropagation(),await _s(a)&&Le(s)})(e,s.id,s.wallet_address),className:"opacity-0 group-hover:opacity-100 transition-all duration-200 p-1 hover:bg-gray-100 rounded border border-transparent hover:border-gray-300",title:Fe===s.id?"Address copied!":"Copy full address",children:Fe===s.id?e.jsx(h,{className:"h-3.5 w-3.5 text-green-600"}):e.jsx(u,{className:"h-3.5 w-3.5 text-gray-400 hover:text-gray-700"})})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[e.jsx(be,{variant:"outline",size:"sm",className:"text-xs font-semibold px-2.5 py-1",children:s.network}),s.is_active&&e.jsxs(be,{variant:"success",size:"sm",className:"text-xs font-semibold px-2.5 py-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1.5 animate-pulse shadow-sm shadow-green-500/50"}),"Active"]})]})]}),e.jsxs("div",{className:"pt-5 border-t border-gray-300",children:[e.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[e.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Total Balance"}),n?.last_updated&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400 bg-gray-50 px-2 py-1 rounded-md border border-gray-200",children:[e.jsx(b,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(n.last_updated).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),d?e.jsxs("div",{className:"flex items-center gap-3 mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx(l,{className:"h-5 w-5 text-gray-400 animate-spin"}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Loading balance..."})]}):n&&i>0?e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:["$",i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),o>0&&e.jsxs("p",{className:"text-xs font-medium text-gray-500 mt-2 flex items-center gap-1.5",children:[e.jsx(x,{className:"h-3 w-3"}),o," asset",1!==o?"s":""]})]}):n?e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-400",children:"$0.00"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No balance"})]}):null===n?e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm font-medium text-red-600 bg-red-50 px-3 py-2 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(t,{className:"h-4 w-4"}),"Failed to load balance"]})}):e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm font-medium text-gray-500 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200",children:"Sync wallet to see balance"})})]}),n&&o>0&&e.jsxs("div",{className:"pt-5 border-t border-gray-300",children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(n.balances||{}).slice(0,4).map(([s,a])=>{const t="number"==typeof a?a:a.amount,r="object"==typeof a&&a.usd_value?a.usd_value:null,l=Number(t);return e.jsxs("div",{className:"relative bg-white border-2 border-gray-200 rounded-xl p-3 hover:border-gray-400 hover:shadow-md transition-all duration-200 group/token",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider",children:s})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-base font-extrabold text-gray-900 truncate",title:String(t),children:l>=1e-4?l.toLocaleString("en-US",{maximumFractionDigits:6,minimumFractionDigits:0}):l.toExponential(2)}),null!=r&&r>0&&e.jsxs("div",{className:"text-xs font-semibold text-gray-600 flex items-center gap-1",children:[e.jsx("span",{className:"text-gray-400",children:"â‰ˆ"}),"$",r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},s)})}),o>4&&e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs font-semibold text-gray-600 text-center bg-gray-50 py-2 rounded-lg border border-gray-200",children:["+",o-4," more asset",o-4!=1?"s":""]})})]}),e.jsxs("div",{className:"pt-5 border-t border-gray-300 flex items-center justify-between",children:[e.jsxs("button",{onClick:e=>{e.stopPropagation(),us(s.id)},disabled:q.has(s.id),className:"flex items-center gap-2 px-4 py-2 text-xs font-semibold text-gray-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-gray-200 hover:border-blue-300 shadow-sm hover:shadow",title:"Sync wallet transactions",children:[e.jsx(l,{className:"h-4 w-4 "+(q.has(s.id)?"animate-spin":"")}),e.jsx("span",{children:q.has(s.id)?"Syncing...":"Sync"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),(async e=>{const s=r.find(s=>s.id===e);s&&(oe(s),te(!0))})(s.id)},className:"p-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all border border-transparent hover:border-gray-300",title:"Edit wallet",children:e.jsx(p,{className:"h-4 w-4"})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),bs(s.id)},className:"p-2 text-gray-500 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all border border-transparent hover:border-blue-300",title:"View details",children:e.jsx(y,{className:"h-4 w-4"})}),e.jsx("button",{onClick:e=>{var a;e.stopPropagation(),a=s.id,xe(a),le(!0),ge("")},disabled:K.has(s.id),className:"p-2 text-gray-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-transparent hover:border-red-300",title:"Delete wallet",children:K.has(s.id)?e.jsx(l,{className:"h-4 w-4 animate-spin"}):e.jsx(j,{className:"h-4 w-4"})})]})]})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-6",children:e.jsx(a,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:0===r.length?"No wallets connected":"No wallets found"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto text-lg leading-relaxed",children:0===r.length?"Get started by adding your first wallet to monitor blockchain transactions and balances.":"Try adjusting your search criteria to find the wallets you're looking for."}),0===r.length&&e.jsxs("button",{onClick:()=>Z(!0),className:"mt-8 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-base font-semibold shadow-sm",children:[e.jsx(n,{className:"h-5 w-5 inline mr-2"}),"Add Your First Wallet"]})]})}),e.jsx(pe,{isOpen:X,onClose:()=>Z(!1),onSuccess:async e=>{Z(!1),await xs(),e&&setTimeout(()=>{us(e)},500)}}),ae&&de&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Wallet"}),e.jsx("button",{onClick:()=>{te(!1),oe(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(i,{className:"h-5 w-5"})})]})}),e.jsxs("form",{onSubmit:e=>{e.preventDefault();const s=new FormData(e.currentTarget);(async(e,s)=>{if(de)try{const a=await U.put(`/trust-wallet/wallets/${de.id}`,{wallet_name:e,is_active:s});(await U.parseResponse(a)).success&&(I(a=>a.map(a=>a.id===de.id?{...a,wallet_name:e,is_active:s}:a)),te(!1),oe(null))}catch(a){Se("Failed to update wallet")}})(s.get("wallet_name"),"on"===s.get("is_active"))},children:[e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wallet Name"}),e.jsx("input",{type:"text",name:"wallet_name",defaultValue:de.wallet_name,required:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none",placeholder:"Enter wallet name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wallet Address"}),e.jsx("input",{type:"text",value:de.wallet_address,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Wallet address cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Network"}),e.jsx("input",{type:"text",value:de.network,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",id:"is_active",defaultChecked:de.is_active,className:"h-4 w-4 text-blue-600 focus:outline-none border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm font-medium text-gray-700",children:"Active"})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>{te(!1),oe(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-semibold bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(w,{className:"h-4 w-4 inline mr-1.5"}),"Save Changes"]})]})]})]})}),re&&ce&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(t,{className:"h-5 w-5 text-red-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Delete Wallet"})]}),e.jsx("button",{onClick:()=>{le(!1),xe(null),ge("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(i,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-red-800",children:["You are about to delete the wallet: ",e.jsx("span",{className:"font-semibold",children:r.find(e=>e.id===ce)?.wallet_name})]}),e.jsx("p",{className:"text-sm text-red-700 mt-2",children:"This action cannot be undone. All transaction history will be permanently deleted."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Code"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter security code to confirm deletion"}),e.jsx("input",{type:"text",value:me,onChange:e=>ge(e.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-center font-mono text-lg tracking-wider",placeholder:"Enter code",autoFocus:!0,maxLength:4})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>{le(!1),xe(null),ge("")},className:"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(ce)if("4561"===me){if(!K.has(ce))try{Q(e=>new Set(e).add(ce));const e=await U.delete(`/trust-wallet/wallets/${ce}`);(await U.parseResponse(e)).success?(I(e=>e.filter(e=>e.id!==ce)),B(e=>e.filter(e=>e.wallet_id!==ce)),await gs(),le(!1),xe(null),ge("")):Se("Failed to delete wallet")}catch(e){e instanceof Error&&e.message.includes("404")?(I(e=>e.filter(e=>e.id!==ce)),B(e=>e.filter(e=>e.wallet_id!==ce)),await gs(),le(!1),xe(null),ge("")):Se("Failed to delete wallet")}finally{Q(e=>{const s=new Set(e);return s.delete(ce),s})}}else Se("Invalid security code. Please enter 4561")},disabled:K.has(ce),className:"px-4 py-2 text-sm font-semibold bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:K.has(ce)?e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"h-4 w-4 inline mr-1.5 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-4 w-4 inline mr-1.5"}),"Delete Wallet"]})})]})]})}),ee&&ne&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-7xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-50 flex items-center justify-center",children:e.jsx(a,{className:"h-5 w-5 text-gray-700"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:ne.wallet_name}),e.jsx("p",{className:"text-sm text-gray-500 font-mono truncate max-w-md mt-0.5",children:ne.wallet_address})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600 bg-gray-100 px-2.5 py-1 rounded border border-gray-200",children:ne.network}),ne.is_active&&e.jsx("span",{className:"text-xs font-medium text-gray-700 bg-gray-50 px-2.5 py-1 rounded border border-gray-200",children:"Active"}),e.jsx("button",{onClick:()=>{se(!1),ie(null),ye([]),rs([]),Oe(""),Ue("all"),Pe("all"),We("all"),Me("date"),ze("desc"),Ve("detailed"),qe(!1),Ke(!1),Xe(1),es(50),as("transactions"),ds(""),cs("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(i,{className:"h-5 w-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-6 pt-6 border-b border-gray-200 bg-white",children:[e.jsxs("button",{onClick:()=>{as("transactions")},className:"px-4 py-2 text-sm font-medium rounded-t-lg transition-colors "+("transactions"===ss?"bg-white border-t border-x border-gray-200 text-gray-900":"text-gray-600 hover:text-gray-900"),children:[e.jsx(m,{className:"h-4 w-4 inline mr-2"}),"Transactions"]}),e.jsxs("button",{onClick:()=>{as("historical"),ne&&(ds(""),cs(""),ps(ne.id))},className:"px-4 py-2 text-sm font-medium rounded-t-lg transition-colors "+("historical"===ss?"bg-white border-t border-x border-gray-200 text-gray-900":"text-gray-600 hover:text-gray-900"),children:[e.jsx(f,{className:"h-4 w-4 inline mr-2"}),"Historical Balances"]})]}),"transactions"===ss&&e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200 space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search transactions...",value:$e,onChange:e=>Oe(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none bg-white text-sm"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>Ke(!Je),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Je?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-200`,children:[e.jsx(o,{className:"h-4 w-4 inline mr-1.5"}),"Filters"]}),e.jsxs("button",{onClick:()=>qe(!Ye),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Ye?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-200`,children:[e.jsx(g,{className:"h-4 w-4 inline mr-1.5"}),Ye?"Ungroup":"Group"]}),e.jsxs("button",{onClick:()=>{const e=ws.map(e=>[new Date(e.block_timestamp).toISOString(),e.transaction_type,e.token_symbol,e.token_amount,e.gas_fee||0,e.status,e.from_address,e.to_address,e.transaction_hash].join(",")).join("\n"),s=new Blob(["Date,Type,Token,Amount,Gas Fee,Status,From,To,Hash\n"+e],{type:"text/csv"}),a=window.URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download=`${ne?.wallet_name||"wallet"}_transactions_${(new Date).toISOString().split("T")[0]}.csv`,t.click(),window.URL.revokeObjectURL(a)},className:"px-4 py-2 bg-white text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 border border-gray-200 transition-colors",children:[e.jsx(N,{className:"h-4 w-4 inline mr-1.5"}),"Export"]}),e.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>Ve("compact"),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors "+("compact"===Ge?"bg-blue-100 text-blue-700":"text-gray-600"),children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Ve("detailed"),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors "+("detailed"===Ge?"bg-blue-100 text-blue-700":"text-gray-600"),children:e.jsx(k,{className:"h-4 w-4"})})]})]})]}),Je&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Type"}),e.jsxs("select",{value:Re,onChange:e=>Ue(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"IN",children:"Inbound"}),e.jsx("option",{value:"OUT",children:"Outbound"}),e.jsx("option",{value:"INTERNAL",children:"Internal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Token"}),e.jsxs("select",{value:Ie,onChange:e=>Pe(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none",children:[e.jsx("option",{value:"all",children:"All"}),fs.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:Ae,onChange:e=>We(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"FAILED",children:"Failed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:Be,onChange:e=>Me(e.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none",children:[e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"amount",children:"Amount"}),e.jsx("option",{value:"gas",children:"Gas Fee"})]}),e.jsx("button",{onClick:()=>ze(e=>"asc"===e?"desc":"asc"),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-100",children:"asc"===He?e.jsx(_,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]})]})]})]}),e.jsx("div",{className:"overflow-y-auto bg-white flex-1",children:"historical"===ss?e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:is||os?"Showing filtered historical balances":"Showing complete wallet history"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:is||os?`Date range: ${is||"Wallet birth"} to ${os||"Today"}`:"Displaying all balances from wallet creation to today. Use date filters to narrow results."})]})]})}),e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Start Date ",e.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional - defaults to wallet birth)"})]}),e.jsx("input",{type:"date",value:is,onChange:e=>ds(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["End Date ",e.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional - defaults to today)"})]}),e.jsx("input",{type:"date",value:os,onChange:e=>cs(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("button",{onClick:()=>ne&&ps(ne.id),disabled:ls,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50",children:[e.jsx(l,{className:"h-4 w-4 inline mr-2 "+(ls?"animate-spin":"")}),ls?"Loading...":"Refresh"]}),e.jsxs("button",{onClick:()=>{if(ne&&0!==ts.length)try{const e=new Set;ts.forEach(s=>{Object.keys(s.balances||{}).forEach(s=>e.add(s))});const s=Array.from(e).sort(),a=[],t=["Date","Total USD",...s.map(e=>`${e} Amount`),...s.map(e=>`${e} USD Value`)];a.push(t),ts.forEach(e=>{const t=[e.date,e.total_usd||0];s.forEach(s=>{const a=e.balances?.[s];t.push(a?.amount||0)}),s.forEach(s=>{const a=e.balances?.[s];t.push(a?.usd_value||0)}),a.push(t)});const r=$.aoa_to_sheet(a),l=$.book_new();$.book_append_sheet(l,r,"Historical Balances");const n=(new Date).toISOString().split("T")[0],i=`${ne.wallet_name}_historical_balances_${n}.xlsx`;O(l,i)}catch(e){Se("Failed to export to Excel")}},disabled:0===ts.length,className:"px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-50 border border-gray-200 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(N,{className:"h-4 w-4 inline mr-2"}),"Export Excel"]})]}),ls?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(l,{className:"h-6 w-6 animate-spin text-gray-600"})}),e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"Loading historical balances..."})]})}):ts.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total USD"}),(()=>{const s=new Set;return ts.forEach(e=>{Object.keys(e.balances||{}).forEach(e=>s.add(e))}),Array.from(s).sort().map(s=>e.jsxs(T.Fragment,{children:[e.jsxs("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:[s," Amount"]}),e.jsxs("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:[s," USD"]})]},s))})()]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ts.map((s,a)=>{const t=new Set;ts.forEach(e=>{Object.keys(e.balances||{}).forEach(e=>t.add(e))});const r=Array.from(t).sort();return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900 text-right",children:["$",(s.total_usd||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.map(a=>{const t=s.balances?.[a];return e.jsxs(T.Fragment,{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 text-right",children:(t?.amount||0).toLocaleString("en-US",{maximumFractionDigits:6})}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600 text-right",children:["$",(t?.usd_value||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},a)})]},s.date||a)})})]})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{className:"h-6 w-6 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No historical balances found"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Select a date range and click "Load" to view historical balances.'})]})]}):e.jsxs(e.Fragment,{children:[je?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(l,{className:"h-6 w-6 animate-spin text-gray-600"})}),e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"Loading transactions..."})]})}):ws.length>0?Ye&&vs.paginatedDays?e.jsx("div",{className:"space-y-6",children:vs.paginatedDays.map(([s,a])=>{const t=a.filter(e=>"IN"===e.transaction_type).reduce((e,s)=>e+s.token_amount,0)-a.filter(e=>"OUT"===e.transaction_type).reduce((e,s)=>e+s.token_amount,0);return e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[a.length," transaction",1!==a.length?"s":""]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Net Flow"}),e.jsx("div",{className:"text-base font-semibold "+(t>=0?"text-green-600":"text-red-600"),children:t.toLocaleString(void 0,{maximumFractionDigits:6})})]})]})}),e.jsx("div",{className:"space-y-2 pl-2 border-l border-gray-200",children:a.map(s=>{const a="compact"===Ge,t=ks(s.transaction_hash,s.network);return e.jsx("div",{className:"bg-white border border-gray-200 hover:border-gray-300 transition-colors "+(a?"p-3":"p-4"),children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"bg-white rounded-lg flex items-center justify-center border-2 shadow-sm flex-shrink-0 "+(a?"w-10 h-10":"w-12 h-12"),children:"IN"===s.transaction_type?e.jsx(D,{className:(a?"h-5 w-5":"h-6 w-6")+" text-green-600"}):"OUT"===s.transaction_type?e.jsx(E,{className:(a?"h-5 w-5":"h-6 w-6")+" text-red-600"}):e.jsx(F,{className:(a?"h-5 w-5":"h-6 w-6")+" text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsxs("span",{className:"font-bold text-gray-900 "+(a?"text-base":"text-lg"),children:[s.token_amount," ",s.token_symbol]}),e.jsx("span",{className:"px-2 py-1 rounded-md font-medium text-xs "+("IN"===s.transaction_type?"bg-green-100 text-green-700":"OUT"===s.transaction_type?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:s.transaction_type}),e.jsx("span",{className:"px-2 py-1 rounded-md font-medium text-xs "+("CONFIRMED"===s.status?"bg-green-100 text-green-700":"PENDING"===s.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:s.status})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 flex-wrap",children:[e.jsx("span",{children:new Date(s.block_timestamp).toLocaleString()}),!a&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"â€¢"}),e.jsxs("span",{className:"text-xs font-mono truncate max-w-[150px]",title:s.transaction_hash,children:[s.transaction_hash.slice(0,16),"..."]})]})]}),!a&&e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-gray-700 block mb-1",children:"From:"}),e.jsx("div",{className:"font-mono text-xs text-gray-600 bg-gray-50 px-2 py-1.5 rounded break-all",children:s.from_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-gray-700 block mb-1",children:"To:"}),e.jsx("div",{className:"font-mono text-xs text-gray-600 bg-gray-50 px-2 py-1.5 rounded break-all",children:s.to_address})]})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[!a&&s.gas_fee&&s.gas_fee>0&&e.jsxs("div",{className:"text-right mr-4",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Gas"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.gas_fee," ",s.gas_fee_token]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>_s(s.transaction_hash),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy hash",children:e.jsx(u,{className:"h-4 w-4 text-gray-500"})}),t&&e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View on block explorer",children:e.jsx(L,{className:"h-4 w-4 text-gray-500"})})]})]})]})},s.id)})})]},s)})}):e.jsx("div",{className:"space-y-2",children:vs.paginatedTxs?.map(s=>{const a="compact"===Ge,t=ks(s.transaction_hash,s.network);return e.jsx("div",{className:"bg-white border border-gray-200 hover:border-gray-300 transition-colors "+(a?"p-3":"p-4"),children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"bg-white rounded-lg flex items-center justify-center border-2 shadow-sm flex-shrink-0 "+(a?"w-10 h-10":"w-12 h-12"),children:"IN"===s.transaction_type?e.jsx(D,{className:(a?"h-5 w-5":"h-6 w-6")+" text-green-600"}):"OUT"===s.transaction_type?e.jsx(E,{className:(a?"h-5 w-5":"h-6 w-6")+" text-red-600"}):e.jsx(F,{className:(a?"h-5 w-5":"h-6 w-6")+" text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-gray-900 "+(a?"text-base":"text-lg"),children:[s.token_amount," ",s.token_symbol]}),s.token_name&&s.token_name!==s.token_symbol&&e.jsx("div",{className:"text-xs text-gray-500",children:s.token_name})]}),e.jsx("span",{className:"px-2 py-1 rounded-md font-medium text-xs "+("IN"===s.transaction_type?"bg-green-100 text-green-700":"OUT"===s.transaction_type?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:s.transaction_type}),e.jsx("span",{className:"px-2 py-1 rounded-md font-medium text-xs "+("CONFIRMED"===s.status?"bg-green-100 text-green-700":"PENDING"===s.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:s.status})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 flex-wrap",children:[e.jsx("span",{children:new Date(s.block_timestamp).toLocaleString()}),!a&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"â€¢"}),e.jsxs("span",{className:"text-xs font-mono truncate max-w-[150px]",title:s.transaction_hash,children:[s.transaction_hash.slice(0,16),"..."]})]})]}),!a&&e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-gray-700 block mb-1",children:"From:"}),e.jsx("div",{className:"font-mono text-xs text-gray-600 bg-gray-50 px-2 py-1.5 rounded break-all",children:s.from_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-gray-700 block mb-1",children:"To:"}),e.jsx("div",{className:"font-mono text-xs text-gray-600 bg-gray-50 px-2 py-1.5 rounded break-all",children:s.to_address})]})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2 flex-shrink-0",children:[!a&&s.gas_fee&&s.gas_fee>0&&e.jsxs("div",{className:"text-right mr-4",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Gas"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.gas_fee," ",s.gas_fee_token]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>_s(s.transaction_hash),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy hash",children:e.jsx(u,{className:"h-4 w-4 text-gray-500"})}),t&&e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View on block explorer",children:e.jsx(L,{className:"h-4 w-4 text-gray-500"})})]})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(a,{className:"h-6 w-6 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No transactions found"}),e.jsx("p",{className:"text-sm text-gray-600",children:0===ue.length?"This wallet doesn't have any transactions yet.":"No transactions match your filters. Try adjusting your search or filters."})]}),ws.length>0&&vs.totalPages>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-6 bg-white border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-xs sm:text-sm text-gray-600",children:"Per page:"}),e.jsxs("select",{value:Ze,onChange:e=>{es(Number(e.target.value)),Xe(1)},className:"px-3 py-1.5 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none",children:[e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"}),e.jsx("option",{value:"200",children:"200"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Xe(e=>Math.max(1,e-1)),disabled:1===Qe,className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm font-medium",children:"Prev"}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 whitespace-nowrap",children:["Page ",Qe," of ",vs.totalPages]}),e.jsx("button",{onClick:()=>Xe(e=>Math.min(vs.totalPages,e+1)),disabled:Qe===vs.totalPages,className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm font-medium",children:"Next"})]})]})]})})]})})]})};export{ye as T,he as U,ue as a,be as b,te as c,me as d,ge as e};
