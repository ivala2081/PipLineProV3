const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/components-modern-tUvpuNx5.js","js/vendor-react-BhTnfaj4.js","js/contexts-BJ30luUC.js","js/vendor-i18n-DHLiip7K.js","js/components-ui-DqTPGewb.js","js/vendor-utils-CtF19A-_.js","js/components-trust-Cyz_q_DS.js","js/vendor-charts-recharts-B9ou1qfH.js","js/pages-B3fV5jk5.js","js/pages-reports-B4339KZw.js","js/pages-businessanalytics-ye7MGcKx.js","js/pages-systemmonitor-Bslpk-F-.js","js/pages-revenueanalytics-_oRLc5BZ.js","js/TabShowcase-DcxPONYF.js"])))=>i.map(i=>d[i]);
import{ci as e,cj as t,ck as a,aG as s,j as r,cl as n,r as o,T as i,cm as l,o as c,b7 as d,H as m,F as u,Q as p,cn as h,co as y,cp as g,cq as _,cr as f,R as v,cs as x}from"./vendor-react-BhTnfaj4.js";import{a as j,_ as b,l as w,c as E}from"./components-modern-tUvpuNx5.js";import{L as T}from"./pages-B3fV5jk5.js";import{u as D,b as S,A as k,L as A,N as R,c as P,d as I}from"./contexts-BJ30luUC.js";import{y as C}from"./components-ui-DqTPGewb.js";import"./vendor-utils-CtF19A-_.js";import"./vendor-charts-recharts-B9ou1qfH.js";import"./components-trust-Cyz_q_DS.js";import"./vendor-i18n-DHLiip7K.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const L=e("dashboard/fetchDashboardData",async(e,{rejectWithValue:t})=>{try{const t=await j.get(`/api/v1/dashboard/consolidated?range=${e}`),a=await j.parseResponse(t);return{dashboardData:{stats:{total_revenue:{value:a.stats?.total_revenue?.value||"₺0",change:a.stats?.total_revenue?.change||"N/A",changeType:a.stats?.total_revenue?.changeType||"positive"},total_transactions:{value:a.stats?.total_transactions?.value||"0",change:a.stats?.total_transactions?.change||"N/A",changeType:a.stats?.total_transactions?.changeType||"positive"},active_clients:{value:a.stats?.active_clients?.value||"0",change:a.stats?.active_clients?.change||"N/A",changeType:a.stats?.active_clients?.changeType||"positive"},growth_rate:{value:a.stats?.growth_rate?.value||"0%",change:a.stats?.growth_rate?.change||"N/A",changeType:a.stats?.growth_rate?.changeType||"positive"}},recent_transactions:a.recent_transactions||[],summary:{total_revenue:a.summary?.total_revenue||parseFloat((a.stats?.total_revenue?.value||"0").replace(/[₺,]/g,""))||0,total_commission:a.summary?.total_commission||a.commission_analytics?.total_commission||0,total_net:a.summary?.total_net||parseFloat((a.stats?.total_revenue?.value||"0").replace(/[₺,]/g,""))-(a.commission_analytics?.total_commission||0),transaction_count:a.summary?.transaction_count||parseInt((a.stats?.total_transactions?.value||"0").replace(/,/g,""))||0,active_clients:a.summary?.active_clients||parseInt((a.stats?.active_clients?.value||"0").replace(/,/g,""))||0,net_cash:a.summary?.net_cash||a.financial_performance?.annual?.net_cash_tl||0,daily_revenue:a.summary?.daily_revenue||0,weekly_revenue:a.summary?.weekly_revenue||0,monthly_revenue:a.summary?.monthly_revenue||0,annual_revenue:a.summary?.annual_revenue||0,daily_revenue_trend:a.summary?.daily_revenue_trend||0,weekly_revenue_trend:a.summary?.weekly_revenue_trend||0,monthly_revenue_trend:a.summary?.monthly_revenue_trend||0,annual_revenue_trend:a.summary?.annual_revenue_trend||0},chart_data:{daily_revenue:a.chart_data?.daily_revenue?.map(e=>({date:e.date,amount:e.net_cash||e.amount||0,net_cash:e.net_cash||e.amount||0}))||[],monthly_trends:[],client_distribution:[]},revenue_trends:a.chart_data?.daily_revenue?.map(e=>({date:e.date,revenue:e.net_cash||e.amount||0}))||[]},topPerformers:{volume_leaders:a.psp_summary?.slice(0,5).map(e=>({name:e.psp,value:e.total_amount||0,transactions:e.transaction_count||0}))||[],count_leaders:a.psp_summary?.slice(0,5).map(e=>({name:e.psp,count:e.transaction_count||0,total:e.total_amount||0}))||[],period:`Last ${e}`},revenueTrends:{success:!0,data:{daily_revenue:a.chart_data?.daily_revenue?.map(e=>({date:e.date,revenue:e.net_cash||e.amount||0,commission:0,net:e.net_cash||e.amount||0,transactions:e.transactions||0}))||[],metrics:{total_revenue:parseFloat((a.stats?.total_revenue?.value||"0").replace(/[₺,]/g,""))||0,total_transactions:parseInt((a.stats?.total_transactions?.value||"0").replace(/,/g,""))||0,avg_transaction_value:(parseFloat((a.stats?.total_revenue?.value||"0").replace(/[₺,]/g,""))||0)/(parseInt((a.stats?.total_transactions?.value||"0").replace(/,/g,""))||1),revenue_growth_percent:15.2,profit_margin:85}}},commissionAnalytics:a.commission_analytics||null}}catch(a){return t(a instanceof Error?a.message:"Failed to fetch dashboard data")}}),O=e("dashboard/fetchSecondaryData",async(e,{rejectWithValue:t,getState:a})=>{try{const t=a(),{dashboardData:s,revenueTrends:r}=t.dashboard;if(!s||!r)throw new Error("Primary dashboard data not available");const n=await j.get(`/api/v1/analytics/top-performers?range=${e}`),o=await j.parseResponse(n),[i,l,c]=await Promise.all([j.get("/api/v1/analytics/system/performance"),j.get("/api/v1/analytics/data/quality"),j.get("/api/v1/analytics/security/metrics")]),d=await j.parseResponse(i),m=await j.parseResponse(l),u=await j.parseResponse(c);return{topPerformers:{volume_leaders:o.volume_leaders||[],count_leaders:o.count_leaders||[],period:`Last ${e}`},systemPerformance:d||{api_response_time:120,database_response_time:45,uptime_percentage:99.9,cpu_usage:25.5,memory_usage:45.2,disk_usage:26.2,system_health:"healthy"},dataQuality:m||{overall_quality_score:95.5,client_completeness:98.2,amount_completeness:99.8,date_completeness:100,potential_duplicates:0,total_records:s.summary.transaction_count,data_freshness:"current",validation_status:"passed"},integrationStatus:{bank_connections:{status:"connected",last_check:(new Date).toISOString(),response_time:45},psp_connections:{status:"connected",active_psps:s.summary.active_clients,psp_list:[],last_check:(new Date).toISOString()},api_endpoints:{status:"healthy",total_endpoints:12,active_endpoints:12,last_check:(new Date).toISOString()},webhook_delivery:{status:"active",success_rate:98.5,last_delivery:(new Date).toISOString()}},securityMetrics:u||{failed_logins:{today:3,this_week:12,this_month:45,trend:"decreasing"},suspicious_activities:{total_alerts:2,high_priority:0,medium_priority:1,low_priority:1,last_alert:(new Date).toISOString()},session_management:{active_sessions:5,expired_sessions:23,average_session_duration:"2.5 hours"},access_patterns:{normal_access:98.5,unusual_access:1.5,last_analysis:(new Date).toISOString()},security_incidents:{total_incidents:0,resolved_incidents:0,open_incidents:0}},volumeAnalysis:{success:!0,data:{hourly_volume:[],daily_volume:s.chart_data?.daily_revenue?.map(e=>({day:new Date(e.date).getDay(),count:1,volume:e.amount}))||[],psp_volume:[],insights:{peak_hour:14,peak_day:2,total_transactions:s.summary.transaction_count,total_volume:s.summary.total_revenue}}},clientAnalytics:{success:!0,data:{client_analytics:s.chart_data?.client_distribution?.map(e=>({client_name:e.name,transaction_count:1,total_volume:e.value,avg_transaction:e.value,last_transaction:(new Date).toISOString(),volume_percentage:0,segment:"Regular"}))||[],segment_distribution:{},metrics:{total_clients:s.summary.active_clients,total_volume:s.summary.total_revenue,avg_volume_per_client:s.summary.total_revenue/s.summary.active_clients,top_client_volume:s.chart_data?.client_distribution?.[0]?.value||0}}},commissionAnalytics:{success:!0,data:{psp_commission:[],daily_commission:[],metrics:{total_commission:s.summary.total_commission,total_volume:s.summary.total_revenue,overall_rate:s.summary.total_commission/s.summary.total_revenue*100,avg_daily_commission:s.summary.total_commission/7,top_psp_commission:s.summary.total_commission}}}}}catch(s){return t(s instanceof Error?s.message:"Failed to fetch secondary data")}}),N=t({name:"dashboard",initialState:{dashboardData:null,topPerformers:null,revenueTrends:null,systemPerformance:null,dataQuality:null,integrationStatus:null,securityMetrics:null,volumeAnalysis:null,clientAnalytics:null,commissionAnalytics:null,loading:!1,error:null,refreshing:!1,timeRange:"all",activeTab:"overview",lastFetchTime:0,dataCache:{}},reducers:{setTimeRange:(e,t)=>{e.timeRange=t.payload},setActiveTab:(e,t)=>{e.activeTab=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setRefreshing:(e,t)=>{e.refreshing=t.payload},clearError:e=>{e.error=null},clearCache:e=>{e.dataCache={},e.lastFetchTime=0}},extraReducers:e=>{e.addCase(L.pending,e=>{e.loading=!0,e.error=null}).addCase(L.fulfilled,(e,t)=>{e.loading=!1,e.error=null,e.lastFetchTime=Date.now(),t.payload.dashboardData&&(e.dashboardData=t.payload.dashboardData),t.payload.topPerformers&&(e.topPerformers=t.payload.topPerformers),t.payload.revenueTrends&&(e.revenueTrends=t.payload.revenueTrends),t.payload.commissionAnalytics&&(e.commissionAnalytics=t.payload.commissionAnalytics)}).addCase(L.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(O.fulfilled,(e,t)=>{t.payload.topPerformers&&(e.topPerformers=t.payload.topPerformers),t.payload.systemPerformance&&(e.systemPerformance=t.payload.systemPerformance),t.payload.dataQuality&&(e.dataQuality=t.payload.dataQuality),t.payload.integrationStatus&&(e.integrationStatus=t.payload.integrationStatus),t.payload.securityMetrics&&(e.securityMetrics=t.payload.securityMetrics),t.payload.volumeAnalysis&&(e.volumeAnalysis=t.payload.volumeAnalysis),t.payload.clientAnalytics&&(e.clientAnalytics=t.payload.clientAnalytics),t.payload.commissionAnalytics&&(e.commissionAnalytics=t.payload.commissionAnalytics)}).addCase(V.fulfilled,(e,t)=>{t.payload.commissionAnalytics&&(e.commissionAnalytics=t.payload.commissionAnalytics)}).addCase(V.rejected,(e,t)=>{e.error=t.payload}).addCase(M.fulfilled,(e,t)=>{t.payload.clientAnalytics&&(e.clientAnalytics=t.payload.clientAnalytics)}).addCase(M.rejected,(e,t)=>{e.error=t.payload})}}),V=e("dashboard/fetchCommissionAnalytics",async(e,{rejectWithValue:t})=>{try{const t=await j.get(`/api/v1/analytics/commission/analytics?range=${e}`),a=await j.parseResponse(t);if(!a.success)throw new Error(a.error||"Failed to fetch commission analytics");return{commissionAnalytics:a}}catch(a){return t(a instanceof Error?a.message:"Failed to fetch commission analytics")}}),M=e("dashboard/fetchClientAnalytics",async(e,{rejectWithValue:t})=>{try{const t=await j.get(`/api/v1/analytics/clients/analytics?range=${e}`),a=await j.parseResponse(t);if(!a.success)throw new Error(a.error||"Failed to fetch client analytics");return{clientAnalytics:a}}catch(a){return t(a instanceof Error?a.message:"Failed to fetch client analytics")}});e("dashboard/fetchTopPerformers",async(e,{rejectWithValue:t})=>{try{const t=await j.get(`/api/v1/analytics/top-performers?range=${e}`),a=await j.parseResponse(t);return{volume_leaders:a.volume_leaders||[],count_leaders:a.count_leaders||[],period:`Last ${e}`}}catch(a){return t(a.message||"Failed to fetch top performers")}}),e("dashboard/fetchPspRolloverData",async(e,{rejectWithValue:t})=>{try{const e=await j.get("/api/v1/analytics/psp-rollover-summary"),t=await j.parseResponse(e);return{psps:t.psps||[],total_rollover:t.total_rollover||0,period:"Current"}}catch(a){return t(a.message||"Failed to fetch PSP rollover data")}});const z=N.reducer,F=t({name:"user",initialState:{user:null,isAuthenticated:!1,isLoading:!0,error:null},reducers:{setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!!t.payload},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},clearUser:e=>{e.user=null,e.isAuthenticated=!1,e.error=null},updateUserPermissions:(e,t)=>{e.user&&(e.user.permissions=t.payload)}}}).reducer,$={settings:{language:"en",theme:"light",timezone:"UTC",currency:"₺",dateFormat:"YYYY-MM-DD",notifications:{email:!0,push:!1,sms:!1},dashboard:{defaultTimeRange:"7d",autoRefresh:!0,refreshInterval:3e5,showCharts:!0,showMetrics:!0}},isLoading:!1,error:null},H=a({reducer:{dashboard:z,user:F,settings:t({name:"settings",initialState:$,reducers:{setSettings:(e,t)=>{e.settings={...e.settings,...t.payload}},setLanguage:(e,t)=>{e.settings.language=t.payload},setTheme:(e,t)=>{e.settings.theme=t.payload},setCurrency:(e,t)=>{e.settings.currency=t.payload},setDashboardSettings:(e,t)=>{e.settings.dashboard={...e.settings.dashboard,...t.payload}},setNotificationSettings:(e,t)=>{e.settings.notifications={...e.settings.notifications,...t.payload}},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},resetSettings:e=>{e.settings=$.settings}}}).reducer,exchangeRates:t({name:"exchangeRates",initialState:{rates:{},loading:!1,error:null,lastUpdated:null,selectedDate:(new Date).toISOString().slice(0,10)},reducers:{setRates:(e,t)=>{e.rates=t.payload,e.lastUpdated=new Date},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setSelectedDate:(e,t)=>{e.selectedDate=t.payload},updateRate:(e,t)=>{e.rates[t.payload.currencyPair]=t.payload.rate,e.lastUpdated=new Date},clearRates:e=>{e.rates={},e.lastUpdated=null},clearError:e=>{e.error=null}}}).reducer},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"],ignoredActionPaths:["meta.arg","payload.timestamp"],ignoredPaths:["items.dates"]}}),devTools:!1}),U=({children:e,requireAdmin:t=!1,requirePermission:a})=>{const{user:o,isAuthenticated:i,isLoading:l}=D(),c=s();return l?r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb"},children:r.jsx(T,{})}):i||null!==o?o&&!o.is_active?r.jsx(n,{to:"/login",state:{from:c,message:"Account is deactivated"},replace:!0}):o&&o.account_locked_until&&new Date(o.account_locked_until)>new Date?r.jsx(n,{to:"/login",state:{from:c,message:"Account is temporarily locked"},replace:!0}):t&&o&&0===o.admin_level?r.jsx(n,{to:"/dashboard",state:{message:"Access denied. Admin privileges required."},replace:!0}):a&&o&&!o.permissions[a]?r.jsx(n,{to:"/dashboard",state:{message:"Access denied. Insufficient permissions."},replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(n,{to:"/login",state:{from:c},replace:!0})};class W extends o.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(e,t){this.props.onError?.(e,t),this.setState({errorInfo:t}),this.reportError(e,t)}reportError=async(e,t)=>{try{this.state.errorId,e.message,e.stack,t.componentStack,(new Date).toISOString(),navigator.userAgent,window.location.href}catch(a){}};handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})};handleGoHome=()=>{window.location.href="/"};handleGoBack=()=>{window.history.back()};handleCopyError=()=>{if(this.state.error){const e=`\nError ID: ${this.state.errorId}\nMessage: ${this.state.error.message}\nStack: ${this.state.error.stack}\nComponent Stack: ${this.state.errorInfo?.componentStack}\nTimestamp: ${(new Date).toISOString()}\nURL: ${window.location.href}\n      `.trim();navigator.clipboard.writeText(e).then(()=>{alert("Error details copied to clipboard")}).catch(()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Error details copied to clipboard")})}};render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:r.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(i,{className:"w-10 h-10 text-red-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),r.jsx("p",{className:"text-gray-600",children:"We encountered an unexpected error. Don't worry, we've been notified and are working to fix it."})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(l,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Error Details"})]}),r.jsx("p",{className:"text-sm text-gray-600 font-mono",children:this.state.error?.message||"Unknown error occurred"}),this.state.errorId&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Error ID: ",this.state.errorId]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[r.jsxs("button",{onClick:this.handleRetry,className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:[r.jsx(c,{className:"w-4 h-4"}),"Try Again"]}),r.jsxs("button",{onClick:this.handleGoBack,className:"flex-1 flex items-center justify-center gap-2 bg-gray-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:[r.jsx(d,{className:"w-4 h-4"}),"Go Back"]}),r.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:[r.jsx(m,{className:"w-4 h-4"}),"Go Home"]})]}),r.jsx("div",{className:"flex items-center justify-center gap-4 text-sm",children:r.jsxs("button",{onClick:this.handleCopyError,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 transition-colors",children:[r.jsx(u,{className:"w-4 h-4"}),"Copy Error Details"]})}),r.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:r.jsx("p",{children:"If this problem persists, please contact support with the Error ID above."})})]})}):this.props.children}}const Q={refreshInterval:18e5,dedupingInterval:36e5,errorRetryCount:1,errorRetryInterval:5e3,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!1,compare:(e,t)=>JSON.stringify(e)===JSON.stringify(t),revalidateIfStale:!1,loadingTimeout:15e3},q=()=>{const[e,t]=o.useState(!1);return o.useEffect(()=>{const e=e=>{"Tab"===e.key&&t(!0)},a=()=>{t(!1)};return document.addEventListener("keydown",e),document.addEventListener("click",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("click",a)}},[]),e?r.jsxs("div",{className:"fixed top-0 left-0 z-50 p-4 space-y-2",children:[r.jsx("button",{onClick:()=>{const e=document.querySelector("main");e&&(e.focus(),e.scrollIntoView({behavior:"smooth"}))},className:"block w-full bg-gray-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors","aria-label":"Skip to main content",children:"Skip to main content"}),r.jsx("button",{onClick:()=>{const e=document.querySelector("nav");e&&(e.focus(),e.scrollIntoView({behavior:"smooth"}))},className:"block w-full bg-gray-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors","aria-label":"Skip to navigation",children:"Skip to navigation"})]}):null},B=()=>{const{isNavigating:e,loadingMessage:t}=S();return e?r.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm border-b border-slate-200",children:r.jsx("div",{className:"flex items-center justify-center py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(p,{className:"w-5 h-5 animate-spin text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-slate-700",children:t})]})})}):null},G=new class{metrics=new Map;config;preloadQueue=new Set;performanceObserver=null;constructor(e={}){this.config={enablePreloading:!0,preloadThreshold:2e3,cacheSize:50,retryStrategy:"exponential",performanceMonitoring:!0,...e},this.config.performanceMonitoring&&this.setupPerformanceMonitoring()}setupPerformanceMonitoring(){"undefined"!=typeof window&&"PerformanceObserver"in window&&(this.performanceObserver=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{"navigation"!==e.entryType&&"resource"!==e.entryType||this.analyzePerformanceEntry(e)})}),this.performanceObserver.observe({entryTypes:["navigation","resource"]}))}analyzePerformanceEntry(e){e.duration,this.config.preloadThreshold}recordMetrics(e,t){this.metrics.has(e)||this.metrics.set(e,[]);const a=this.metrics.get(e);a.push({loadTime:0,cacheHit:!1,retryCount:0,errorRate:0,preloadSuccess:!1,...t}),a.length>100&&a.splice(0,a.length-100)}getOptimizationRecommendations(e){const t=this.metrics.get(e);if(!t||0===t.length)return["No metrics available for optimization"];const a=[],s=t.slice(-10),r=s.reduce((e,t)=>e+t.loadTime,0)/s.length,n=s.reduce((e,t)=>e+t.retryCount,0)/s.length,o=s.filter(e=>e.errorRate>0).length/s.length;return r>this.config.preloadThreshold&&a.push("Consider preloading this component due to slow load times"),n>1&&a.push("High retry count detected - check network stability or component size"),o>.1&&a.push("High error rate detected - investigate component dependencies"),s.filter(e=>e.cacheHit).length/s.length<.5&&a.push("Low cache hit rate - consider improving caching strategy"),a.length>0?a:["Component is performing well"]}preloadBasedOnPatterns(){if(!this.config.enablePreloading)return;const e=new Map;this.metrics.forEach((t,a)=>{e.set(a,t.length)}),Array.from(e.entries()).sort(([,e],[,t])=>t-e).slice(0,5).forEach(([e])=>{this.preloadQueue.has(e)||(this.preloadQueue.add(e),this.preloadComponent(e))})}async preloadComponent(e){this.preloadQueue.delete(e)}getPerformanceStats(){const e=[],t={};return this.metrics.forEach((a,s)=>{e.push(...a),t[s]=this.getOptimizationRecommendations(s)}),{totalComponents:this.metrics.size,avgLoadTime:e.length>0?e.reduce((e,t)=>e+t.loadTime,0)/e.length:0,totalErrors:e.filter(e=>e.errorRate>0).length,cacheHitRate:e.length>0?e.filter(e=>e.cacheHit).length/e.length:0,recommendations:t}}cleanup(){this.performanceObserver&&(this.performanceObserver.disconnect(),this.performanceObserver=null),this.metrics.clear(),this.preloadQueue.clear()}updateConfig(e){this.config={...this.config,...e}}};o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.f),__vite__mapDeps([0,1,2,3,4,5,6,7]))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.R),__vite__mapDeps([0,1,2,3,4,5,6,7]))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.D),__vite__mapDeps([0,1,2,3,4,5,6,7]))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.G),__vite__mapDeps([0,1,2,3,4,5,6,7]))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.d),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:e.ModernHeader}))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.e),__vite__mapDeps([0,1,2,3,4,5,6,7]))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.N),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:e.NotificationSystem}))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.P),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:e.ProgressIndicator}))),o.lazy(()=>b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:e.SkeletonLoader})));const Y=new class{imageObserver=null;lazyImages=new Set;setupLazyImages(){"undefined"!=typeof window&&"IntersectionObserver"in window&&(this.imageObserver=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target,a=t.dataset.src;a&&(t.src=a,t.removeAttribute("data-src"),this.imageObserver?.unobserve(t),this.lazyImages.delete(t))}})},{rootMargin:"50px"}),document.querySelectorAll("img[data-src]").forEach(e=>{this.lazyImages.add(e),this.imageObserver?.observe(e)}))}preloadResource(e,t){if("undefined"==typeof document)return;const a=document.createElement("link");a.rel="preload",a.href=e,a.as=t,document.head.appendChild(a)}prefetchResource(e){if("undefined"==typeof document)return;const t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t)}debounce(e,t){let a=null;return function(...s){a&&clearTimeout(a),a=setTimeout(()=>{a=null,e(...s)},t)}}throttle(e,t){let a;return function(...s){a||(e(...s),a=!0,setTimeout(()=>a=!1,t))}}measurePerformance(e,t){if("undefined"==typeof performance)return void t();const a=performance.now();t();const s=performance.now()-a;w.performance(e,s),s>100&&w.warn(`Slow operation detected: ${e} took ${s.toFixed(2)}ms`)}cleanup(){this.imageObserver&&(this.lazyImages.forEach(e=>{this.imageObserver?.unobserve(e)}),this.lazyImages.clear(),this.imageObserver.disconnect(),this.imageObserver=null)}},J=new Map,K=new Set,X=({importFn:e,fallback:t=r.jsx(T,{}),errorFallback:a=r.jsx("div",{className:"flex items-center justify-center min-h-[200px] p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-lg font-semibold mb-2",children:"Failed to load component"}),r.jsx("div",{className:"text-gray-600 text-sm",children:"Please try refreshing the page or contact support if the problem persists."})]})}),preload:s=!0,preloadDelay:n=1e3,retryCount:i=3,retryDelay:l=2e3,...c})=>{const{state:d,retry:m}=((e,t={})=>{const{preload:a=!1,preloadDelay:s=0,cache:r=!0,retryCount:n=3,retryDelay:i=1e3}=t,[l,c]=o.useState({isLoading:!1,isLoaded:!1,error:null,retryCount:0}),d=o.useRef(e),m=o.useRef(e.toString());o.useEffect(()=>{d.current=e,m.current=e.toString()},[e]);const u=o.useCallback(async()=>{const e=m.current;if(r&&J.has(e))c(e=>({...e,isLoaded:!0,isLoading:!1,error:null}));else{c(e=>({...e,isLoading:!0,error:null}));try{const t=await d.current();r&&J.set(e,t),c(e=>({...e,isLoaded:!0,isLoading:!1,error:null,retryCount:0}))}catch(t){l.retryCount<n?setTimeout(()=>{c(e=>({...e,retryCount:e.retryCount+1})),u()},i):c(e=>({...e,isLoading:!1,error:t}))}}},[r,n,i,l.retryCount]),p=o.useCallback(async()=>{const e=m.current;if(!K.has(e)){K.add(e),s>0&&await new Promise(e=>setTimeout(e,s));try{const t=await d.current();r&&J.set(e,t),K.delete(e)}catch(t){K.delete(e)}}},[s,r]),h=o.useCallback(async()=>{c(e=>({...e,retryCount:0,error:null})),await u()},[u]),y=o.useCallback(()=>{const e=m.current;J.delete(e),c(e=>({...e,isLoaded:!1}))},[]);return o.useEffect(()=>{a&&p()},[a,p]),{state:l,preload:p,retry:h,clearCache:y}})(e,{preload:s,preloadDelay:n,cache:!0,retryCount:i,retryDelay:l}),u=o.lazy(e),p=d.error?r.jsx("div",{className:"flex items-center justify-center min-h-[200px] p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-lg font-semibold mb-2",children:"Failed to load component"}),r.jsx("div",{className:"text-gray-600 text-sm mb-4",children:d.error.message}),r.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Retry"})]})}):t;return r.jsx(W,{fallback:a,children:r.jsx(o.Suspense,{fallback:p,children:r.jsx(u,{...c})})})},Z=(e,t={})=>a=>r.jsx(X,{importFn:e,...t,...a}),ee={preload:!0,preloadDelay:0,retryCount:5,retryDelay:1e3},te={preload:!0,preloadDelay:1e3,retryCount:3,retryDelay:2e3},ae={preload:!0,preloadDelay:2e3,retryCount:2,retryDelay:3e3},se={preload:!1,retryCount:3,retryDelay:2e3},re=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.M),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),ee),ne=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.A),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),te),oe=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.a),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),ee),ie=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.C),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),te),le=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.b),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),te),ce=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.c),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),te),de=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.d),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),te),me=Z(()=>b(()=>import("./pages-reports-B4339KZw.js"),__vite__mapDeps([9,1,2,0,4,5,6,7,3])),ae),ue=Z(()=>b(()=>import("./pages-businessanalytics-ye7MGcKx.js"),__vite__mapDeps([10,1,2,0,4,5,6,7,3,8])),ae),pe=Z(()=>b(()=>import("./pages-systemmonitor-Bslpk-F-.js"),__vite__mapDeps([11,1,2,0,4,5,6,7,3])),ae),he=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.e),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),te),ye=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.f),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),te),ge=Z(()=>b(()=>import("./pages-revenueanalytics-_oRLc5BZ.js"),__vite__mapDeps([12,1,8,0,2,3,4,5,6,7])),ae),_e=Z(()=>b(()=>import("./pages-B3fV5jk5.js").then(e=>e.F),__vite__mapDeps([8,1,0,2,3,4,5,6,7])),se),fe=Z(()=>b(()=>import("./TabShowcase-DcxPONYF.js"),__vite__mapDeps([13,1,4,5,6,2,0,7,3])),se);function ve(){return(()=>{const e=s();o.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e.pathname]),o.useEffect(()=>{window.scrollTo(0,0)},[])})(),o.useEffect(()=>{const e=setTimeout(async()=>{await(async()=>{const e=performance.now();try{await Promise.all([b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.f),__vite__mapDeps([0,1,2,3,4,5,6,7])),b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.d),__vite__mapDeps([0,1,2,3,4,5,6,7])),b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.e),__vite__mapDeps([0,1,2,3,4,5,6,7]))]),await Promise.all([b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.R),__vite__mapDeps([0,1,2,3,4,5,6,7])),b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.D),__vite__mapDeps([0,1,2,3,4,5,6,7])),b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.G),__vite__mapDeps([0,1,2,3,4,5,6,7]))]),await Promise.all([b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.N),__vite__mapDeps([0,1,2,3,4,5,6,7])),b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.P),__vite__mapDeps([0,1,2,3,4,5,6,7])),b(()=>import("./components-modern-tUvpuNx5.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7]))]);const t=performance.now()-e;G.recordMetrics("preloadComponents",{loadTime:t,preloadSuccess:!0,cacheHit:!1,retryCount:0,errorRate:0})}catch(t){const a=performance.now()-e;G.recordMetrics("preloadComponents",{loadTime:a,preloadSuccess:!1,cacheHit:!1,retryCount:0,errorRate:1})}})(),G.preloadBasedOnPatterns()},1e3);return Y.setupLazyImages(),()=>{clearTimeout(e),Y.cleanup(),G.cleanup()}},[]),r.jsxs(h,{store:H,children:[r.jsx(y,{value:Q,children:r.jsx(W,{children:r.jsx(k,{children:r.jsx(A,{children:r.jsx(R,{children:r.jsx(P,{children:r.jsxs(I,{position:"top-right",maxVisible:5,children:[r.jsx(q,{}),r.jsx(B,{}),r.jsx(C,{}),r.jsx("div",{className:"min-h-screen bg-slate-50",children:r.jsx(o.Suspense,{fallback:r.jsx(T,{}),children:r.jsxs(g,{children:[r.jsx(_,{path:"/login",element:r.jsx(oe,{})}),r.jsxs(_,{path:"/",element:r.jsx(U,{children:r.jsx(E,{})}),children:[r.jsx(_,{index:!0,element:r.jsx(re,{})}),r.jsx(_,{path:"dashboard",element:r.jsx(re,{})}),r.jsx(_,{path:"clients",element:r.jsx(ie,{})}),r.jsx(_,{path:"accounting",element:r.jsx(ye,{})}),r.jsx(_,{path:"ledger",element:r.jsx(ce,{})}),r.jsx(_,{path:"transactions/add",element:r.jsx(he,{})}),r.jsx(_,{path:"transactions/clients",element:r.jsx(n,{to:"/clients",replace:!0})}),r.jsx(_,{path:"agents",element:r.jsx(le,{})}),r.jsx(_,{path:"analytics",element:r.jsx(ne,{})}),r.jsx(_,{path:"revenue-analytics",element:r.jsx(ge,{})}),r.jsx(_,{path:"future",element:r.jsx(_e,{})}),r.jsx(_,{path:"tab-showcase",element:r.jsx(fe,{})}),r.jsx(_,{path:"settings",element:r.jsx(de,{})}),r.jsx(_,{path:"reports",element:r.jsx(me,{})}),r.jsx(_,{path:"business-analytics",element:r.jsx(ue,{})}),r.jsx(_,{path:"system-monitor",element:r.jsx(pe,{})}),r.jsx(_,{path:"/",element:r.jsx(n,{to:"/dashboard",replace:!0})}),r.jsx(_,{path:"admin/users",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),r.jsx("p",{children:"User management features coming soon..."})]})}),r.jsx(_,{path:"admin/permissions",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),r.jsx("p",{children:"Permissions management coming soon..."})]})}),r.jsx(_,{path:"admin/monitoring",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"System Monitoring"}),r.jsx("p",{children:"System monitoring features coming soon..."})]})}),r.jsx(_,{path:"admin/database",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Database Management"}),r.jsx("p",{children:"Database management features coming soon..."})]})}),r.jsx(_,{path:"admin/backup",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Backup & Restore"}),r.jsx("p",{children:"Backup and restore features coming soon..."})]})}),r.jsx(_,{path:"admin/security",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Security Settings"}),r.jsx("p",{children:"Security settings coming soon..."})]})}),r.jsx(_,{path:"admin/logs",element:r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"System Logs"}),r.jsx("p",{children:"System logs viewer coming soon..."})]})})]})]})})})]})})})})})})}),!1]})}const xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}}).catch(e=>{})}const be=document.getElementById("root");if(!be)throw new Error('Root element not found! Check index.html for <div id="root"></div>');window.addEventListener("error",e=>{be.hasChildNodes()||(be.innerHTML=`\n      <div style="padding: 2rem; font-family: system-ui; max-width: 800px; margin: 0 auto;">\n        <h1 style="color: #dc2626;">Application Error</h1>\n        <p style="color: #6b7280;">An error occurred while loading the application.</p>\n        <pre style="background: #f3f4f6; padding: 1rem; border-radius: 0.5rem; overflow: auto;">\n          ${e.error?.message||"Unknown error"}\n          ${e.error?.stack||""}\n        </pre>\n        <button onclick="window.location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #2563eb; color: white; border: none; border-radius: 0.25rem; cursor: pointer;">\n          Reload Page\n        </button>\n      </div>\n    `)}),f.createRoot(be).render(r.jsx(v.StrictMode,{children:r.jsx(y,{value:{...Q,fetcher:async e=>{const t=await fetch(e,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}},children:r.jsx(x,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:r.jsx(ve,{})})})})),setTimeout(()=>{0===be.children.length&&(be.innerHTML='\n      <div style="padding: 2rem; font-family: system-ui; max-width: 800px; margin: 0 auto; background: white; min-height: 100vh;">\n        <h1 style="color: #dc2626;">⚠️ Render Issue Detected</h1>\n        <p style="color: #6b7280;">React app rendered but root element is empty.</p>\n        <p style="color: #6b7280;">Check browser console for errors.</p>\n        <button onclick="window.location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #2563eb; color: white; border: none; border-radius: 0.25rem; cursor: pointer;">\n          Reload Page\n        </button>\n      </div>\n    ')},1e3),function(e){if("serviceWorker"in navigator){if(new URL("/",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/sw.js";xe?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{const s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):je(e,t)}).catch(()=>{})}(t,e),navigator.serviceWorker.ready.then(()=>{})):je(t,e)})}}({onSuccess:()=>{},onUpdate:()=>{}});
